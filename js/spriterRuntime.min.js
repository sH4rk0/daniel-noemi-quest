var Spriter;!function(a){var b=function(){function a(){this._folders=new Helper.IdNameMap,this._entities=new Helper.IdNameMap}return a.prototype.addFolder=function(a){this._folders.add(a,a.getId(),a.getName())},a.prototype.getFolderById=function(a){return this._folders.getById(a)},a.prototype.getFolderByName=function(a){return this._folders.getByName(a)},a.prototype.addEntity=function(a){this._entities.add(a,a.getId(),a.getName())},a.prototype.getEntityById=function(a){return this._entities.getById(a)},a.prototype.getEntityByName=function(a){return this._entities.getByName(a)},a}();a.Spriter=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function b(b,c,d){this._id=b,this._time=c,this._spin=d,this.setCurve(a.eCurveType.LINEAR)}return b.prototype.setCurveType=function(a){this._curveType=a},b.prototype.setCurve=function(a,b,c,d,e){void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=0),this._curveType=a,this._c1=b,this._c2=c,this._c3=d,this._c4=e},b.prototype.getId=function(){return this._id},b.prototype.getTime=function(){return this._time},b.prototype.getSpin=function(){return this._spin},b.prototype.getCurveType=function(){return this._curveType},b.prototype.getC1=function(){return this._c1},b.prototype.getC2=function(){return this._c2},b.prototype.getC3=function(){return this._c3},b.prototype.getC4=function(){return this._c4},b}();a.TimelineKey=b}(Spriter||(Spriter={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Spriter;!function(a){var b=function(b){function c(){b.apply(this,arguments),this._info=new a.SpatialInfo}return __extends(c,b),c.prototype.getInfo=function(){return this._info},c}(a.TimelineKey);a.SpatialTimelineKey=b}(Spriter||(Spriter={}));var SpriterExample;!function(a){var b=function(){function a(){}return a.game=null,a.GAME_WIDTH=1024,a.GAME_HEIGHT=768,a.assetsPath="assets/",a}();a.Global=b}(SpriterExample||(SpriterExample={}));var PhaserGlobal={stopFocus:!0};window.onload=function(){SpriterExample.Global.game=new SpriterExample.Game};var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},SpriterExample;!function(a){var b=function(b){function c(){c.game=this,b.call(this,a.Global.GAME_WIDTH,a.Global.GAME_HEIGHT,Phaser.AUTO,"content",null),this.state.add("Boot",a.Boot),this.state.add("Preloader",a.Preloader),this.state.add("Test",a.Test),this.state.start("Boot")}return __extends(c,b),c}(Phaser.Game);a.Game=b}(SpriterExample||(SpriterExample={}));var Helper;!function(a){var b=function(){function a(){this._items=[],this._itemNames=[]}return a.prototype.add=function(a,b,c){void 0===b&&(b=this._items.length),(void 0===c||null===c)&&(c="item_"+b),this._items[b]=a,this._itemNames[c]=b},a.prototype.getById=function(a){return this._items[a]},a.prototype.getByName=function(a){var b=this._itemNames[a];return"number"!=typeof b&&console.warn("item "+a+"  not found!"),"number"==typeof b?this._items[b]:null},a.prototype.getLength=function(){return this._items.length},a}();a.IdNameMap=b}(Helper||(Helper={}));var Spriter;!function(a){var b=function(){function b(){this.timelineKey=-1,this.transformed=new a.SpatialInfo}return b.prototype.setOn=function(a){this._on=a},b.prototype.getOn=function(){return this._on},b.prototype.setKey=function(c,d,e){this.timelineKey=e;var f=c.getTimelineById(d).getKeys(),g=f[e],h=(e+1)%f.length;0===h&&c.getLoopType()===a.eAnimationLooping.NO_LOOPING&&(h=e);var i=f[h];this.key=g,this.timeFrom=g.getTime(),this.timeTo=i.getTime(),this.timeTo<this.timeFrom&&(this.timeTo=c.getLength()),this.from=g.getInfo(),this.to=i.getInfo(),this.updateMask=0,Math.abs(this.from.x-this.to.x)>.001&&(this.updateMask+=b.UPDATE_X),Math.abs(this.from.y-this.to.y)>.001&&(this.updateMask+=b.UPDATE_Y),Math.abs(this.from.scaleX-this.to.scaleX)>.001&&(this.updateMask+=b.UPDATE_SCALE_X),Math.abs(this.from.scaleY-this.to.scaleY)>.001&&(this.updateMask+=b.UPDATE_SCALE_Y),Math.abs(this.from.pivotX-this.to.pivotX)>.001&&(this.updateMask+=b.UPDATE_PIVOT_X),Math.abs(this.from.pivotY-this.to.pivotY)>.001&&(this.updateMask+=b.UPDATE_PIVOT_Y),Math.abs(this.from.alpha-this.to.alpha)>.001&&(this.updateMask+=b.UPDATE_ALPHA),Math.abs(this.from.angle-this.to.angle)>.001&&(this.updateMask+=b.UPDATE_ANGLE),this.transformed.x=this.from.x,this.transformed.y=this.from.y,this.transformed.scaleX=this.from.scaleX,this.transformed.scaleY=this.from.scaleY,this.transformed.pivotX=this.from.pivotX,this.transformed.pivotY=this.from.pivotY,this.transformed.angle=this.from.angle,this.transformed.alpha=this.from.alpha},b.prototype.tween=function(a){var c=this.updateMask>0?this.getTweenTime(a):0;this.transformed.x=(this.updateMask&b.UPDATE_X)>0?this.linear(this.from.x,this.to.x,c):this.from.x,this.transformed.y=(this.updateMask&b.UPDATE_Y)>0?this.linear(this.from.y,this.to.y,c):this.from.y,this.transformed.scaleX=(this.updateMask&b.UPDATE_SCALE_X)>0?this.linear(this.from.scaleX,this.to.scaleX,c):this.from.scaleX,this.transformed.scaleY=(this.updateMask&b.UPDATE_SCALE_Y)>0?this.linear(this.from.scaleY,this.to.scaleY,c):this.from.scaleY,this.transformed.pivotX=(this.updateMask&b.UPDATE_PIVOT_X)>0?this.linear(this.from.pivotX,this.to.pivotX,c):this.from.pivotX,this.transformed.pivotY=(this.updateMask&b.UPDATE_PIVOT_Y)>0?this.linear(this.from.pivotY,this.to.pivotY,c):this.from.pivotY,this.transformed.alpha=(this.updateMask&b.UPDATE_ALPHA)>0?this.linear(this.from.alpha,this.to.alpha,c):this.from.alpha,this.transformed.angle=(this.updateMask&b.UPDATE_ANGLE)>0?this.angleLinear(this.from.angle,this.to.angle,this.key.getSpin(),c):this.from.angle},b.prototype.update=function(a){this.transformed.angle*=Phaser.Math.sign(a.scaleX)*Phaser.Math.sign(a.scaleY),this.transformed.angle+=a.angle,this.transformed.scaleX*=a.scaleX,this.transformed.scaleY*=a.scaleY,this.scalePosition(a.scaleX,a.scaleY),this.rotatePosition(a.angle),this.translatePosition(a.x,a.y),this.transformed.alpha*=a.alpha},b.prototype.scalePosition=function(a,b){this.transformed.x*=a,this.transformed.y*=b},b.prototype.rotatePosition=function(a){var b=this.transformed.x,c=this.transformed.y;if(0!==b||0!==c){var d=a*(Math.PI/180),e=Math.cos(d),f=Math.sin(d);this.transformed.x=b*e-c*f,this.transformed.y=b*f+c*e}},b.prototype.translatePosition=function(a,b){this.transformed.x+=a,this.transformed.y+=b},b.prototype.getTweenTime=function(b){if(this.key.getCurveType()===a.eCurveType.INSTANT)return 0;var c=Phaser.Math.clamp((b-this.timeFrom)/(this.timeTo-this.timeFrom),0,1);switch(this.key.getCurveType()){case a.eCurveType.LINEAR:return c;case a.eCurveType.QUADRATIC:return this.quadratic(0,this.key.getC1(),1,c);case a.eCurveType.CUBIC:return this.cubic(0,this.key.getC1(),this.key.getC2(),1,c)}return 0},b.prototype.linear=function(a,b,c){return(b-a)*c+a},b.prototype.quadratic=function(a,b,c,d){return this.linear(this.linear(a,b,d),this.linear(b,c,d),d)},b.prototype.cubic=function(a,b,c,d,e){return this.linear(this.quadratic(a,b,c,e),this.quadratic(b,c,d,e),e)},b.prototype.angleLinear=function(a,b,c,d){return 0===c?a:(c>0?b>a&&(b-=360):a>b&&(b+=360),this.linear(a,b,d))},b.UPDATE_X=1,b.UPDATE_Y=2,b.UPDATE_SCALE_X=4,b.UPDATE_SCALE_Y=8,b.UPDATE_PIVOT_X=16,b.UPDATE_PIVOT_Y=32,b.UPDATE_ANGLE=64,b.UPDATE_ALPHA=128,b}();a.SpriterBone=b}(Spriter||(Spriter={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Spriter;!function(a){var b=function(b){function c(c,d,e,f,g,h){b.call(this,c,null),this._bones=[],this._objects=[],this._pause=!1,this._listener=null,this._spriter=d,this._entityName=f,this._textureKey=e,this._root=new a.SpatialInfo,void 0===h&&(h=100),this.setAnimationSpeedPercent(h),void 0===g||null===g?this.setAnimationById(0):"number"==typeof g?this.setAnimationById(g):this.setAnimationByName(g)}return __extends(c,b),c.prototype.setListener=function(a){this._listener=a},c.prototype.getAnimationCount=function(){return this._spriter.getEntityByName(this._entityName).getAnimationsCount()},c.prototype.getCurrentAnimationName=function(){return this._currentAnimationName},c.prototype.setAnimationSpeedPercent=function(a){void 0===a&&(a=100),this._animationSpeed=a/100},c.prototype.setAnimationById=function(a){var b=this._spriter.getEntityByName(this._entityName).getAnimationById(a);return void 0===b||null===b?void console.warn("Animation "+a+" for entity "+this._entityName+" does not exist!"):void this.setAnimation(b)},c.prototype.setAnimationByName=function(a){var b=this._spriter.getEntityByName(this._entityName).getAnimationByName(a);return void 0===b||null===b?void console.warn("Animation "+a+" for entity "+this._entityName+" does not exist!"):void this.setAnimation(b)},c.prototype.setAnimation=function(a){this._currentAnimationName=a.getName(),this._animation=a,this._finished=!1,this.clearTime(),this.loadKeys(0,!0),this.updateCharacter()},c.prototype.clearTime=function(){this._time=0,this._keyIndex=-1},c.prototype.getNextMainLineKeyTime=function(a){var b=this._animation.getMainLineKeys(),c=(this._keyIndex+1)%b.length;this._nextTime=0!==c?b[c].getTime():this._animation.getLength(),0!==c&&this._nextTime<a&&console.log("Game is lagging or keys are too close to each other...")},c.prototype.setBones=function(b,c){void 0===c&&(c=!1);for(var d=0;d<this._bones.length;d++)void 0!==this._bones[d]&&this._bones[d].setOn(!1);for(var d=0;d<b.length;d++){var e=b[d];void 0===this._bones[e.id]&&(this._bones[e.id]=new a.SpriterBone);var f=this._bones[e.id];f.setOn(!0),f.parent=e.parent,(f.timelineKey!=e.key||c)&&f.setKey(this._animation,e.timeline,e.key)}},c.prototype.setObjects=function(b,c){void 0===c&&(c=!1);for(var d=0;d<this._objects.length;d++)void 0!==this._objects[d]&&this._objects[d].setOn(!1);for(var e=!1,d=0;d<b.length;d++){var f=b[d],g=null,h=null;void 0===this._objects[f.id]?(h=new Phaser.Sprite(this.game,0,0,this._textureKey),g=new a.SpriterObject(this._spriter,h),this._objects[f.id]=g,this.add(h)):(g=this._objects[f.id],h=g.getSprite()),g.setOn(!0),g.parent=f.parent,g.getSprite().z!==f.z&&(g.getSprite().z=f.z,e=!0),(g.timelineKey!=f.key||c)&&g.setKey(this._animation,f.timeline,f.key)}e&&this.sort()},c.prototype.loadKeys=function(a,b){void 0===b&&(b=!1),this.setBones(this._animation.getMainLineKeys()[a].getBoneRefs(),b),this.setObjects(this._animation.getMainLineKeys()[a].getObjectRefs(),b)},c.prototype.updateAnimation=function(){if(!this._pause&&!this._finished){if(-1===this._keyIndex||this._time>this._nextTime){if(this._keyIndex=(this._keyIndex+1)%this._animation.getMainLineKeys().length,this._time>this._animation.getLength()){if(this._animation.getLoopType()===a.eAnimationLooping.NO_LOOPING){for(;0!==this._keyIndex;)this.getNextMainLineKeyTime(this._time),this.loadKeys(this._keyIndex),this.updateCharacter(),this._keyIndex=(this._keyIndex+1)%this._animation.getMainLineKeys().length;return this._finished=!0,void this.onFinished()}this.onLoop(),this._time=0,this._keyIndex=0}this.getNextMainLineKeyTime(this._time),this.loadKeys(this._keyIndex)}this.updateCharacter(),this._time+=this.game.time.physicsElapsedMS*this._animationSpeed}},c.prototype.updateCharacter=function(){for(var a=0;a<this._bones.length;a++){var b=this._bones[a];if(b.getOn()){var c=-1===b.parent?this._root:this._bones[b.parent].transformed;b.tween(this._time),b.update(c)}}for(var a=0;a<this._objects.length;a++){var d=this._objects[a];if(d.getOn()){var c=-1===d.parent?this._root:this._bones[d.parent].transformed;d.tween(this._time),d.update(c)}}},c.prototype.onLoop=function(){},c.prototype.onFinished=function(){null!==this._listener&&this._listener.onAnimationFinished(this)},c}(Phaser.Group);a.SpriterGroup=b}(Spriter||(Spriter={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Spriter;!function(a){var b=function(a){function b(b,c){a.call(this),this._spriter=b,this._sprite=c}return __extends(b,a),b.prototype.getSprite=function(){return this._sprite},b.prototype.setOn=function(b){a.prototype.setOn.call(this,b),this._sprite.exists=b,this._sprite.visible=b},b.prototype.setKey=function(b,c,d){a.prototype.setKey.call(this,b,c,d);var e=this.key,f=this._spriter.getFolderById(e.getFolder()).getFileById(e.getFile());this._sprite.frameName=f.getName()},b.prototype.update=function(b){a.prototype.update.call(this,b),this.updateSprite()},b.prototype.updateSprite=function(){var a=this.transformed,b=this.getSprite();b.position.setTo(a.x,a.y),b.scale.setTo(a.scaleX,a.scaleY),b.anchor.setTo(a.pivotX,a.pivotY),b.alpha=a.alpha,b.angle=a.angle},b}(a.SpriterBone);a.SpriterObject=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function b(){}return b.prototype.load=function(b){this._spriter=new a.Spriter;var c=b.getNodes("folder");this.loadFolders(this._spriter,c),c.processed();var d=b.getNodes("entity");return this.loadEntities(this._spriter,d),d.processed(),this._spriter},b.prototype.loadFolders=function(a,b){for(var c=0;c<b.length();c++){var d=b.getFolder(c),e=b.getChildNodes(c,"file");this.loadFiles(d,e),e.processed(),a.addFolder(d)}},b.prototype.loadFiles=function(a,b){for(var c=0;c<b.length();c++){var d=b.getFile(c);a.addFile(d)}},b.prototype.loadEntities=function(a,b){for(var c=0;c<b.length();c++){var d=b.getEntity(c),e=b.getChildNodes(c,"obj_info");this.loadBones(d,e),e.processed();var f=b.getChildNodes(c,"animation");this.loadAnimations(d,f),f.processed(),a.addEntity(d)}},b.prototype.loadBones=function(a,b){for(var c=0;c<b.length();c++){var d=b.getObjectInfo(c);a.addObjectInfo(d)}},b.prototype.loadAnimations=function(a,b){for(var c=0;c<b.length();c++){var d=b.getAnimation(c),e=b.getChildNodes(c,"mainline"),f=e.getChildNodes(0,"key");this.loadMainlineKeys(d,f),f.processed(),e.processed();var g=b.getChildNodes(c,"timeline");this.loadTimelines(d,g),g.processed(),a.addAnimation(d)}},b.prototype.loadMainlineKeys=function(a,b){for(var c=0;c<b.length();c++){for(var d=b.getMainLineKey(c),e=b.getChildNodes(c,"bone_ref"),f=0;f<e.length();f++)d.addBoneRef(e.getRef(f));e.processed();for(var g=b.getChildNodes(c,"object_ref"),h=0;h<g.length();h++)d.addObjectRef(g.getRef(h));g.processed(),a.addMainLineKey(d)}},b.prototype.loadTimelines=function(a,b){for(var c=0;c<b.length();c++){var d=b.getTimeline(c),e=b.getChildNodes(c,"key");this.loadTimelineKeys(d,e),e.processed(),a.addTimeline(d)}},b.prototype.loadTimelineKeys=function(a,b){for(var c=0;c<b.length();c++){var d=b.getTimelineKey(c,this._spriter);a.addKey(d)}},b}();a.Loader=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(){}return a.prototype.processed=function(){this.popMinDefsStack()},a.prototype.setMinimized=function(a,b){return void 0===b&&(b=null),this._minimized=a,this._minDefs=b,a&&(this._minDefsStack=[],null===b)?void console.error("Spriter file is minimized - you must provide object with name definitions"):void 0},a.prototype.getFileNameWithoutExtension=function(a){var b=a.split("\\").pop().split("/").pop().split(".")[0];return b},a.prototype.translateElementName=function(a){if(this._minimized){if(this._minDefs.name!==a)return console.warn("current definition is "+this._minDefs.name),a;null!==this._minDefs.minName&&(a=this._minDefs.minName)}return a},a.prototype.translateChildElementName=function(a){if(this._minimized&&null!==this._minDefs){var b=this._minDefs.childElements;null!==b&&(a=null===b[a]?a:b[a].minName)}return a},a.prototype.translateAttributeName=function(a){if(this._minimized&&null!==this._minDefs){var b=this._minDefs.attributes;null!==b&&(a=null===b[a]?a:b[a])}return a},a.prototype.setMinDefsToElementName=function(a){if(this._minimized){this._minDefsStack.push(this._minDefs);var b=this._minDefs.childElements[a];this._minDefs=b}},a.prototype.popMinDefsStack=function(){this._minimized&&(this._minDefs=this._minDefsStack.pop())},a}();a.LoaderSpriterFile=b}(Spriter||(Spriter={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Spriter;!function(a){var b=function(b){function c(a){b.call(this),this._elements={spriter_data:1,folder:2,file:3,entity:4,obj_info:5,frames:6,i:7,animation:8,mainline:9,key:10,bone_ref:11,object_ref:12,timeline:13,bone:14,object:15},this._smallOffset=!1,this._bin=new DataView(a),this._smallOffset=1===this._bin.getUint8(0)}return __extends(c,b),c.prototype.readUint8=function(){return this._bin.getUint8(this._tmpPosition++)},c.prototype.readInt8=function(){return this._bin.getInt8(this._tmpPosition++)},c.prototype.readUint16=function(){var a=this._bin.getUint16(this._tmpPosition,!0);return this._tmpPosition+=2,a},c.prototype.readInt16=function(){var a=this._bin.getInt16(this._tmpPosition,!0);return this._tmpPosition+=2,a},c.prototype.readUint32=function(){var a=this._bin.getUint32(this._tmpPosition,!0);return this._tmpPosition+=4,a},c.prototype.readInt32=function(){var a=this._bin.getInt32(this._tmpPosition,!0);return this._tmpPosition+=4,a},c.prototype.readFixed16_16=function(){var a=this._bin.getInt32(this._tmpPosition,!0);return this._tmpPosition+=4,a/65536},c.prototype.readFixed1_7=function(){var a=255&this._bin.getInt32(this._tmpPosition++);return a/128},c.prototype.readString=function(){for(var a=[],b=this._bin.getUint8(this._tmpPosition++)-1;b>=0;b--)a.push(this._bin.getUint8(this._tmpPosition++));return String.fromCharCode.apply(null,a)},c.prototype.getNodes=function(b){return new a.NodeListBin(this,this.getSubNodesOfElementType(1,this._elements[b]))},c.prototype.getNodesForElement=function(b,c){return new a.NodeListBin(this,this.getSubNodesOfElementType(b,this._elements[c]))},c.prototype.getSubNodesOfElementType=function(a,b){var c=[],d=this._bin.getUint8(a+1);a+=2;for(var e=0;d>e;e++){var f=this._smallOffset?this._bin.getUint16(a+2*e,!0):this._bin.getUint32(a+4*e,!0),g=this._bin.getUint8(a+f);g===b&&c.push(a+f)}return c},c.prototype.getAttribsPosition=function(a){var b=this._bin.getUint8(a+1);return a+2+b*(this._smallOffset?2:4)},c.prototype.getFolder=function(b){this._tmpPosition=this.getAttribsPosition(b);for(var d=0,e="",f=this._bin.getUint8(this._tmpPosition++)-1;f>=0;f--)switch(this._bin.getUint8(this._tmpPosition++)){case c.ATTR_FOLDER_ID:d=this.readUint8();break;case c.ATTR_FOLDER_NAME:e=this.readString()}return new a.Folder(d,e)},c.prototype.getFile=function(b){this._tmpPosition=this.getAttribsPosition(b);for(var d=0,e="",f=0,g=0,h=this._bin.getUint8(this._tmpPosition++)-1;h>=0;h--)switch(this._bin.getUint8(this._tmpPosition++)){case c.ATTR_FILE_ID:d=this.readUint8();break;case c.ATTR_FILE_NAME:e=this.readString();break;case c.ATTR_FILE_PIVOT_X:f=this.readFixed16_16();break;case c.ATTR_FILE_PIVOT_Y:g=this.readFixed16_16();break;case c.ATTR_FILE_WIDTH:case c.ATTR_FILE_HEIGHT:this._tmpPosition+=2}return new a.SpriterFile(d,this.getFileNameWithoutExtension(e),f,1-g)},c.prototype.getEntity=function(b){this._tmpPosition=this.getAttribsPosition(b);for(var d=0,e="",f=this._bin.getUint8(this._tmpPosition++)-1;f>=0;f--)switch(this._bin.getUint8(this._tmpPosition++)){case c.ATTR_ENTITY_ID:d=this.readUint8();break;case c.ATTR_ENTITY_NAME:e=this.readString()}return new a.Entity(d,e)},c.prototype.getObjectInfo=function(b,d){this._tmpPosition=this.getAttribsPosition(b);for(var e="",f=a.eObjectType.SPRITE,g=0,h=0,i=this._bin.getUint8(this._tmpPosition++)-1;i>=0;i--)switch(this._bin.getUint8(this._tmpPosition++)){case c.ATTR_OBJ_INFO_NAME:e=this.readString();break;case c.ATTR_OBJ_INFO_TYPE:1===this.readUint8()&&(f=a.eObjectType.BONE);break;case c.ATTR_OBJ_INFO_WIDTH:g=this.readFixed16_16();break;case c.ATTR_OBJ_INFO_HEIGHT:h=this.readFixed16_16()}return new a.ObjectInfo(d,e,f,g,h)},c.prototype.getAnimation=function(b){this._tmpPosition=this.getAttribsPosition(b);for(var d=0,e="",f=0,g=a.eAnimationLooping.LOOPING,h=this._bin.getUint8(this._tmpPosition++)-1;h>=0;h--)switch(this._bin.getUint8(this._tmpPosition++)){case c.ATTR_ANIMATION_ID:d=this.readUint8();break;case c.ATTR_ANIMATION_NAME:e=this.readString();break;case c.ATTR_ANIMATION_LENGTH:f=this.readUint32();break;case c.ATTR_ANIMATION_INTERVAL:this._tmpPosition+=2;break;case c.ATTR_ANIMATION_LOOPING:g=1===this.readUint8()?a.eAnimationLooping.LOOPING:a.eAnimationLooping.NO_LOOPING}return new a.Animation(d,e,f,g)},c.prototype.getMainLineKey=function(b){this._tmpPosition=this.getAttribsPosition(b);for(var d=0,e=this._bin.getUint8(this._tmpPosition++)-1;e>=0;e--)switch(this._bin.getUint8(this._tmpPosition++)){case c.ATTR_MAINLINE_KEY_ID:this._tmpPosition++;break;case c.ATTR_MAINLINE_KEY_TIME:d=this.readUint32()}return new a.MainLineKey(d)},c.prototype.getRef=function(b){this._tmpPosition=this.getAttribsPosition(b);for(var d=0,e=-1,f=0,g=0,h=0,i=this._bin.getUint8(this._tmpPosition++)-1;i>=0;i--)switch(this._bin.getUint8(this._tmpPosition++)){case c.ATTR_BONE_REF_ID:case c.ATTR_OBJ_REF_ID:d=this.readUint8();break;case c.ATTR_BONE_REF_PARENT:case c.ATTR_OBJ_REF_PARENT:e=this.readUint8();break;case c.ATTR_BONE_REF_TIMELINE:case c.ATTR_OBJ_REF_TIMELINE:f=this.readUint8();break;case c.ATTR_BONE_REF_KEY:case c.ATTR_OBJ_REF_KEY:g=this.readUint8();break;case c.ATTR_OBJ_REF_Z:h=this.readUint8();break;case c.ATTR_OBJ_REF_NAME:this.readString();break;case c.ATTR_OBJ_REF_FOLDER:case c.ATTR_OBJ_REF_FILE:++this._tmpPosition;break;case c.ATTR_OBJ_REF_ABS_X:case c.ATTR_OBJ_REF_ABS_Y:case c.ATTR_OBJ_REF_ABS_PIVOT_X:case c.ATTR_OBJ_REF_ABS_PIVOT_Y:case c.ATTR_OBJ_REF_ABS_SCALE_X:case c.ATTR_OBJ_REF_ABS_SCALE_Y:case c.ATTR_OBJ_REF_ANGLE:this._tmpPosition+=4;break;case c.ATTR_OBJ_REF_ALPHA:++this._tmpPosition}return new a.Ref(d,e,f,g,h)},c.prototype.getTimeline=function(b){this._tmpPosition=this.getAttribsPosition(b);for(var d=0,e="",f=0,g=a.eObjectType.SPRITE,h=this._bin.getUint8(this._tmpPosition++)-1;h>=0;h--)switch(this._bin.getUint8(this._tmpPosition++)){case c.ATTR_TIMELINE_ID:d=this.readUint8();break;case c.ATTR_TIMELINE_NAME:e=this.readString();break;case c.ATTR_TIMELINE_OBJ:f=this.readUint8();break;case c.ATTR_TIMELINE_OBJ_TYPE:1===this.readUint8()&&(g=a.eObjectType.BONE)}return new a.Timeline(d,e,g,f)},c.prototype.getTimelineKey=function(b,d,e){this._tmpPosition=this.getAttribsPosition(b);for(var f=0,g=1,h=a.eCurveType.LINEAR,i=0,j=0,k=0,l=0,m=this._bin.getUint8(this._tmpPosition++)-1;m>=0;m--)switch(this._bin.getUint8(this._tmpPosition++)){case c.ATTR_TIMELINE_KEY_ID:++this._tmpPosition;break;case c.ATTR_TIMELINE_KEY_TIME:f=this.readUint32();break;case c.ATTR_TIMELINE_KEY_SPIN:g=this.readInt8();break;case c.ATTR_TIMELINE_KEY_CURVE:h=this.readUint8();break;case c.ATTR_TIMELINE_KEY_C1:i=this.readFixed1_7();break;case c.ATTR_TIMELINE_KEY_C2:j=this.readFixed1_7()}b+=2;var n=b+(this._smallOffset?this._bin.getUint16(b,!0):this._bin.getUint32(b,!0)),o=this._bin.getUint8(n),p=null,q=!1;14===o?p=new a.BoneTimelineKey(d,f,g):15===o&&(p=new a.ObjectTimelineKey(d,f,g),q=!0),h!==a.eCurveType.LINEAR&&p.setCurve(h,i,j,k,l),this._tmpPosition=this.getAttribsPosition(n);var r=p.getInfo();r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.angle=0,r.alpha=1;for(var s=0,t=!1,u=0,v=!1,w=0,x=0,m=this._bin.getUint8(this._tmpPosition++)-1;m>=0;m--)switch(this._bin.getUint8(this._tmpPosition++)){case c.ATTR_BONE_X:case c.ATTR_OBJ_X:r.x=this.readFixed16_16();break;case c.ATTR_BONE_Y:case c.ATTR_OBJ_Y:r.y=-this.readFixed16_16();break;case c.ATTR_BONE_ANGLE:case c.ATTR_OBJ_ANGLE:r.angle=360-this.readFixed16_16();break;case c.ATTR_BONE_SCALE_X:case c.ATTR_OBJ_SCALE_X:r.scaleX=this.readFixed16_16();break;case c.ATTR_BONE_SCALE_Y:case c.ATTR_OBJ_SCALE_Y:r.scaleY=this.readFixed16_16();break;case c.ATTR_OBJ_FOLDER:w=this.readUint8();break;case c.ATTR_OBJ_FILE:x=this.readUint8();break;case c.ATTR_OBJ_PIVOT_X:s=this.readFixed16_16(),t=!0;break;case c.ATTR_OBJ_PIVOT_Y:u=this.readFixed16_16(),v=!0;break;case c.ATTR_OBJ_ALPHA:r.alpha=this.readFixed1_7()}if(q){p.setFolderAndFile(w,x);var y=e.getFolderById(w).getFileById(x);r.pivotX=t?s:y.getAnchorX(),r.pivotY=1-(v?u:1-y.getAnchorY())}return p},c.ATTR_VERSION=0,c.ATTR_GENERATOR=1,c.ATTR_GENERATOR_VERSION=2,c.ATTR_FOLDER_ID=0,c.ATTR_FOLDER_NAME=1,c.ATTR_FILE_ID=0,c.ATTR_FILE_NAME=1,c.ATTR_FILE_WIDTH=2,c.ATTR_FILE_HEIGHT=3,c.ATTR_FILE_PIVOT_X=4,c.ATTR_FILE_PIVOT_Y=5,c.ATTR_ENTITY_ID=0,c.ATTR_ENTITY_NAME=1,c.ATTR_OBJ_INFO_NAME=0,c.ATTR_OBJ_INFO_TYPE=1,c.ATTR_OBJ_INFO_WIDTH=2,c.ATTR_OBJ_INFO_HEIGHT=3,c.ATTR_FRAMES_I_FOLDER=0,c.ATTR_FRAMES_I_FILE=1,c.ATTR_ANIMATION_ID=0,c.ATTR_ANIMATION_NAME=1,c.ATTR_ANIMATION_LENGTH=2,c.ATTR_ANIMATION_INTERVAL=3,c.ATTR_ANIMATION_LOOPING=4,c.ATTR_MAINLINE_KEY_ID=0,c.ATTR_MAINLINE_KEY_TIME=1,c.ATTR_BONE_REF_ID=0,c.ATTR_BONE_REF_PARENT=1,c.ATTR_BONE_REF_TIMELINE=2,c.ATTR_BONE_REF_KEY=3,c.ATTR_OBJ_REF_ID=4,c.ATTR_OBJ_REF_PARENT=5,c.ATTR_OBJ_REF_TIMELINE=6,c.ATTR_OBJ_REF_KEY=7,c.ATTR_OBJ_REF_NAME=8,c.ATTR_OBJ_REF_Z=9,c.ATTR_OBJ_REF_FOLDER=10,c.ATTR_OBJ_REF_FILE=11,c.ATTR_OBJ_REF_ABS_X=12,c.ATTR_OBJ_REF_ABS_Y=13,c.ATTR_OBJ_REF_ABS_PIVOT_X=14,c.ATTR_OBJ_REF_ABS_PIVOT_Y=15,c.ATTR_OBJ_REF_ABS_SCALE_X=16,c.ATTR_OBJ_REF_ABS_SCALE_Y=17,c.ATTR_OBJ_REF_ANGLE=18,c.ATTR_OBJ_REF_ALPHA=19,c.ATTR_TIMELINE_ID=0,c.ATTR_TIMELINE_NAME=1,c.ATTR_TIMELINE_OBJ=2,c.ATTR_TIMELINE_OBJ_TYPE=3,c.ATTR_TIMELINE_KEY_ID=0,c.ATTR_TIMELINE_KEY_TIME=1,c.ATTR_TIMELINE_KEY_SPIN=2,c.ATTR_TIMELINE_KEY_CURVE=3,c.ATTR_TIMELINE_KEY_C1=4,c.ATTR_TIMELINE_KEY_C2=5,c.ATTR_BONE_X=0,c.ATTR_BONE_Y=1,c.ATTR_BONE_ANGLE=2,c.ATTR_BONE_SCALE_X=3,c.ATTR_BONE_SCALE_Y=4,c.ATTR_OBJ_FOLDER=5,c.ATTR_OBJ_FILE=6,c.ATTR_OBJ_X=7,c.ATTR_OBJ_Y=8,c.ATTR_OBJ_SCALE_X=9,c.ATTR_OBJ_SCALE_Y=10,c.ATTR_OBJ_PIVOT_X=11,c.ATTR_OBJ_PIVOT_Y=12,c.ATTR_OBJ_ANGLE=13,c.ATTR_OBJ_ALPHA=14,c}(a.LoaderSpriterFile);a.SpriterBin=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(a,b){this._file=a,this._nodeList=b}return a.prototype.length=function(){return this._nodeList.length},a.prototype.processed=function(){this._file.processed()},a.prototype.getChildNodes=function(a,b){return this._file.getNodesForElement(this._nodeList[a],b)},a.prototype.getFolder=function(a){return this._file.getFolder(this._nodeList[a])},a.prototype.getFile=function(a){return this._file.getFile(this._nodeList[a])},a.prototype.getEntity=function(a){return this._file.getEntity(this._nodeList[a])},a.prototype.getObjectInfo=function(a){return this._file.getObjectInfo(this._nodeList[a],a)},a.prototype.getAnimation=function(a){return this._file.getAnimation(this._nodeList[a])},a.prototype.getMainLineKey=function(a){return this._file.getMainLineKey(this._nodeList[a])},a.prototype.getRef=function(a){return this._file.getRef(this._nodeList[a])},a.prototype.getTimeline=function(a){return this._file.getTimeline(this._nodeList[a])},a.prototype.getTimelineKey=function(a,b){return this._file.getTimelineKey(this._nodeList[a],a,b)},a}();a.NodeListBin=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(a,b){this._file=a,this._nodeList=b}return a.prototype.length=function(){return this._nodeList.length},a.prototype.processed=function(){this._file.processed()},a.prototype.getNode=function(a){return Array.isArray(this._nodeList)?this._nodeList[a]:this._nodeList},a.prototype.getChildNodes=function(a,b){return this._file.getNodesForElement(this.getNode(a),b)},a.prototype.getFolder=function(a){return this._file.getFolder(this.getNode(a))},a.prototype.getFile=function(a){return this._file.getFile(this.getNode(a))},a.prototype.getEntity=function(a){return this._file.getEntity(this.getNode(a))},a.prototype.getObjectInfo=function(a){return this._file.getObjectInfo(this.getNode(a),a)},a.prototype.getAnimation=function(a){return this._file.getAnimation(this.getNode(a))},a.prototype.getMainLineKey=function(a){return this._file.getMainLineKey(this.getNode(a))},a.prototype.getRef=function(a){return this._file.getRef(this.getNode(a))},a.prototype.getTimeline=function(a){return this._file.getTimeline(this.getNode(a))},a.prototype.getTimelineKey=function(a,b){return this._file.getTimelineKey(this.getNode(a),a,b)},a}();a.NodeListJSON=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(a,b){this._file=a,this._nodeList=b}return a.prototype.length=function(){return this._nodeList.length},a.prototype.processed=function(){this._file.processed()},a.prototype.getChildNodes=function(a,b){return this._file.getNodesForElement(this._nodeList.item(a),b)},a.prototype.getFolder=function(a){return this._file.getFolder(this._nodeList.item(a))},a.prototype.getFile=function(a){return this._file.getFile(this._nodeList.item(a))},a.prototype.getEntity=function(a){return this._file.getEntity(this._nodeList.item(a))},a.prototype.getObjectInfo=function(a){return this._file.getObjectInfo(this._nodeList.item(a),a)},a.prototype.getAnimation=function(a){return this._file.getAnimation(this._nodeList.item(a))},a.prototype.getMainLineKey=function(a){return this._file.getMainLineKey(this._nodeList.item(a))},a.prototype.getRef=function(a){return this._file.getRef(this._nodeList.item(a))},a.prototype.getTimeline=function(a){return this._file.getTimeline(this._nodeList.item(a))},a.prototype.getTimelineKey=function(a,b){return this._file.getTimelineKey(this._nodeList.item(a),a,b)},a}();a.NodeListXml=b}(Spriter||(Spriter={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Spriter;!function(a){var b=function(b){function c(a,c){void 0===c&&(c=null),b.call(this),this._json=a;var d=void 0!==a.min;this.setMinimized(d,c)}return __extends(c,b),c.prototype.parseInt=function(a,b,c){void 0===c&&(c=0);var d=a[this.translateAttributeName(b)];return void 0===d?c:"number"==typeof d?d:parseInt(d)},c.prototype.parseFloat=function(a,b,c){void 0===c&&(c=0);var d=a[this.translateAttributeName(b)];return void 0===d?c:"number"==typeof d?d:parseFloat(d)},c.prototype.parseBoolean=function(a,b,c){void 0===c&&(c=!1);var d=a[this.translateAttributeName(b)];return void 0===d?c:"boolean"==typeof d?d:"true"===d},c.prototype.parseString=function(a,b,c){void 0===c&&(c="");var d=a[this.translateAttributeName(b)];return void 0===d?c:d},c.prototype.getNodes=function(b){this.setMinDefsToElementName(b);var c=this.translateElementName(b);return new a.NodeListJSON(this,this._json[c])},c.prototype.getNodesForElement=function(b,c){this.setMinDefsToElementName(c);var d=this.translateElementName(c);return new a.NodeListJSON(this,b[d])},c.prototype.getFolder=function(b){return new a.Folder(this.parseInt(b,"id"),this.parseString(b,"name"))},c.prototype.getFile=function(b){return new a.SpriterFile(this.parseInt(b,"id"),this.getFileNameWithoutExtension(this.parseString(b,"name")),this.parseFloat(b,"pivot_x"),1-this.parseFloat(b,"pivot_y"))},c.prototype.getEntity=function(b){return new a.Entity(this.parseInt(b,"id"),this.parseString(b,"name"))},c.prototype.getObjectInfo=function(b,c){return new a.ObjectInfo(c,this.parseString(b,"name"),a.ObjectType.getObjectTypeForName(this.parseString(b,"type")),this.parseFloat(b,"w"),this.parseFloat(b,"h"))},c.prototype.getAnimation=function(b){return new a.Animation(this.parseInt(b,"id"),this.parseString(b,"name"),this.parseFloat(b,"length"),this.parseBoolean(b,"looping",!0)===!0?a.eAnimationLooping.LOOPING:a.eAnimationLooping.NO_LOOPING)},c.prototype.getMainLineKey=function(b){return new a.MainLineKey(this.parseFloat(b,"time"))},c.prototype.getRef=function(b){return new a.Ref(this.parseInt(b,"id"),this.parseInt(b,"parent",-1),this.parseInt(b,"timeline"),this.parseInt(b,"key"),this.parseInt(b,"z_index"))},c.prototype.getTimeline=function(b){
return new a.Timeline(this.parseInt(b,"id"),this.parseString(b,"name"),"bone"===this.parseString(b,"object_type")?a.eObjectType.BONE:a.eObjectType.SPRITE,this.parseInt(b,"obj",-1))},c.prototype.getTimelineKey=function(b,c,d){var e=this.parseInt(b,"time"),f=this.parseInt(b,"spin",1),g=this.parseString(b,"curve_type","linear"),h=this.parseFloat(b,"c1",0),i=this.parseFloat(b,"c2",0),j=this.parseFloat(b,"c3",0),k=this.parseFloat(b,"c4",0),l=this.translateChildElementName("bone"),m=this.translateChildElementName("object"),n=null,o=null,p=!1;void 0!==b[l]?(o=b[l],n=new a.BoneTimelineKey(c,e,f),this.setMinDefsToElementName("bone")):void 0!==b[m]&&(o=b[m],n=new a.ObjectTimelineKey(c,e,f),this.setMinDefsToElementName("object"),p=!0),"linear"!==g&&n.setCurve(a.CurveType.getCurveTypeForName(g),h,i,j,k);var q=n.getInfo();if(q.x=this.parseFloat(o,"x"),q.y=-this.parseFloat(o,"y"),q.scaleX=this.parseFloat(o,"scale_x",1),q.scaleY=this.parseFloat(o,"scale_y",1),q.angle=360-this.parseFloat(o,"angle"),q.alpha=this.parseFloat(o,"a",1),p){var r=this.parseInt(o,"folder"),s=this.parseInt(o,"file");n.setFolderAndFile(r,s);var t=d.getFolderById(r).getFileById(s);q.pivotX=this.parseFloat(o,"pivot_x",t.getAnchorX()),q.pivotY=1-this.parseFloat(o,"pivot_y",1-t.getAnchorY())}return this.popMinDefsStack(),n},c}(a.LoaderSpriterFile);a.SpriterJSON=b}(Spriter||(Spriter={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Spriter;!function(a){var b=function(b){function c(a,c){void 0===c&&(c=null),b.call(this),this._xml=a;var d=a.documentElement.hasAttribute("min");this.setMinimized(d,c)}return __extends(c,b),c.prototype.parseInt=function(a,b,c){void 0===c&&(c=0);var d=a.getAttribute(this.translateAttributeName(b));return null!==d?parseInt(d):c},c.prototype.parseFloat=function(a,b,c){void 0===c&&(c=0);var d=a.getAttribute(this.translateAttributeName(b));return null!==d?parseFloat(d):c},c.prototype.parseString=function(a,b,c){void 0===c&&(c="");var d=a.getAttribute(this.translateAttributeName(b));return null!==d?d:c},c.prototype.getNodes=function(b){this.setMinDefsToElementName(b);var c=this.translateElementName(b);return new a.NodeListXml(this,this._xml.documentElement.getElementsByTagName(c))},c.prototype.getNodesForElement=function(b,c){this.setMinDefsToElementName(c);var d=this.translateElementName(c);return new a.NodeListXml(this,b.getElementsByTagName(d))},c.prototype.getFolder=function(b){return new a.Folder(this.parseInt(b,"id"),this.parseString(b,"name"))},c.prototype.getFile=function(b){return new a.SpriterFile(this.parseInt(b,"id"),this.getFileNameWithoutExtension(this.parseString(b,"name")),this.parseFloat(b,"pivot_x"),1-this.parseFloat(b,"pivot_y"))},c.prototype.getEntity=function(b){return new a.Entity(this.parseInt(b,"id"),this.parseString(b,"name"))},c.prototype.getObjectInfo=function(b,c){return new a.ObjectInfo(c,this.parseString(b,"name"),a.ObjectType.getObjectTypeForName(this.parseString(b,"type")),this.parseFloat(b,"w"),this.parseFloat(b,"h"))},c.prototype.getAnimation=function(b){return new a.Animation(this.parseInt(b,"id"),this.parseString(b,"name"),this.parseFloat(b,"length"),"true"===this.parseString(b,"looping","true")?a.eAnimationLooping.LOOPING:a.eAnimationLooping.NO_LOOPING)},c.prototype.getMainLineKey=function(b){return new a.MainLineKey(this.parseFloat(b,"time"))},c.prototype.getRef=function(b){return new a.Ref(this.parseInt(b,"id"),this.parseInt(b,"parent",-1),this.parseInt(b,"timeline"),this.parseInt(b,"key"),this.parseInt(b,"z_index"))},c.prototype.getTimeline=function(b){return new a.Timeline(this.parseInt(b,"id"),this.parseString(b,"name"),"bone"===this.parseString(b,"object_type")?a.eObjectType.BONE:a.eObjectType.SPRITE,this.parseInt(b,"obj",-1))},c.prototype.getTimelineKey=function(b,c,d){var e=this.parseInt(b,"time"),f=this.parseInt(b,"spin",1),g=this.parseString(b,"curve_type","linear"),h=this.parseFloat(b,"c1",0),i=this.parseFloat(b,"c2",0),j=this.parseFloat(b,"c3",0),k=this.parseFloat(b,"c4",0),l=this.translateChildElementName("bone"),m=this.translateChildElementName("object"),n=null,o=b.firstElementChild,p=!1;o.tagName===l?(n=new a.BoneTimelineKey(c,e,f),this.setMinDefsToElementName("bone")):o.tagName===m&&(this.setMinDefsToElementName("object"),n=new a.ObjectTimelineKey(c,e,f),p=!0),"linear"!==g&&n.setCurve(a.CurveType.getCurveTypeForName(g),h,i,j,k);var q=n.getInfo();if(q.x=this.parseFloat(o,"x"),q.y=-this.parseFloat(o,"y"),q.scaleX=this.parseFloat(o,"scale_x",1),q.scaleY=this.parseFloat(o,"scale_y",1),q.angle=360-this.parseFloat(o,"angle"),q.alpha=this.parseFloat(o,"a",1),p){var r=this.parseInt(o,"folder"),s=this.parseInt(o,"file");n.setFolderAndFile(r,s);var t=d.getFolderById(r).getFileById(s);q.pivotX=this.parseFloat(o,"pivot_x",t.getAnchorX()),q.pivotY=1-this.parseFloat(o,"pivot_y",1-t.getAnchorY())}return this.popMinDefsStack(),n},c}(a.LoaderSpriterFile);a.SpriterXml=b}(Spriter||(Spriter={}));var Spriter;!function(a){!function(a){a[a.NO_LOOPING=0]="NO_LOOPING",a[a.LOOPING=1]="LOOPING"}(a.eAnimationLooping||(a.eAnimationLooping={}));var b=(a.eAnimationLooping,function(){function a(a,b,c,d){this._mainLineKeys=[],this._id=a,this._name=b,this._length=c,this._loopType=d,this._timelines=new Helper.IdNameMap}return a.prototype.getMainLineKeys=function(){return this._mainLineKeys},a.prototype.addMainLineKey=function(a){this._mainLineKeys.push(a)},a.prototype.addTimeline=function(a){this._timelines.add(a,a.getId(),a.getName())},a.prototype.getTimelineById=function(a){return this._timelines.getById(a)},a.prototype.getTimelineByName=function(a){return this._timelines.getByName(a)},a.prototype.getId=function(){return this._id},a.prototype.getName=function(){return this._name},a.prototype.getLength=function(){return this._length},a.prototype.getLoopType=function(){return this._loopType},a}());a.Animation=b}(Spriter||(Spriter={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Spriter;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.SpatialTimelineKey);a.BoneTimelineKey=b}(Spriter||(Spriter={}));var Spriter;!function(a){!function(a){a[a.LINEAR=0]="LINEAR",a[a.INSTANT=1]="INSTANT",a[a.QUADRATIC=2]="QUADRATIC",a[a.CUBIC=3]="CUBIC"}(a.eCurveType||(a.eCurveType={}));var b=a.eCurveType,c=function(){function a(){}return a.getCurveTypeForName=function(a){return"linear"===a?b.LINEAR:"instant"===a?b.INSTANT:"quadratic"===a?b.QUADRATIC:"cubic"===a?b.CUBIC:void console.warn("Unknown curve type: "+a)},a}();a.CurveType=c}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(a,b){this._id=a,this._name=b,this._objectInfos=new Helper.IdNameMap,this._animations=new Helper.IdNameMap}return a.prototype.addObjectInfo=function(a){this._objectInfos.add(a,a.getId(),a.getName())},a.prototype.getObjectInfoById=function(a){return this._objectInfos.getById(a)},a.prototype.getObjectInfoByName=function(a){return this._objectInfos.getByName(a)},a.prototype.addAnimation=function(a){this._animations.add(a,a.getId(),a.getName())},a.prototype.getAnimationById=function(a){return this._animations.getById(a)},a.prototype.getAnimationByName=function(a){return this._animations.getByName(a)},a.prototype.getAnimationsCount=function(){return this._animations.getLength()},a.prototype.getId=function(){return this._id},a.prototype.getName=function(){return this._name},a}();a.Entity=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(a,b){this._id=a,this._name=b,this._files=new Helper.IdNameMap}return a.prototype.addFile=function(a){this._files.add(a,a.getId(),a.getName())},a.prototype.getFileById=function(a){return this._files.getById(a)},a.prototype.getFileByName=function(a){return this._files.getByName(a)},a.prototype.getId=function(){return this._id},a.prototype.getName=function(){return this._name},a}();a.Folder=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(a){this._boneRefs=[],this._objectRefs=[],this._time=a}return a.prototype.getBoneRefs=function(){return this._boneRefs},a.prototype.addBoneRef=function(a){this._boneRefs.push(a)},a.prototype.getObjectRefs=function(){return this._objectRefs},a.prototype.addObjectRef=function(a){this._objectRefs.push(a)},a.prototype.getTime=function(){return this._time},a}();a.MainLineKey=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(a,b,c,d,e){this._id=a,this._type=c,this._name=b,this._width=d,this._height=e}return a.prototype.getId=function(){return this._id},a.prototype.getType=function(){return this._type},a.prototype.getName=function(){return this._name},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a}();a.ObjectInfo=b}(Spriter||(Spriter={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Spriter;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.setFolderAndFile=function(a,b){this._folder=a,this._file=b},b.prototype.getFolder=function(){return this._folder},b.prototype.getFile=function(){return this._file},b}(a.SpatialTimelineKey);a.ObjectTimelineKey=b}(Spriter||(Spriter={}));var Spriter;!function(a){!function(a){a[a.SPRITE=0]="SPRITE",a[a.BONE=1]="BONE"}(a.eObjectType||(a.eObjectType={}));var b=a.eObjectType,c=function(){function a(){}return a.getObjectTypeForName=function(a){return"sprite"===a?b.SPRITE:"bone"===a?b.BONE:void 0},a}();a.ObjectType=c}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(a,b,c,d,e){void 0===e&&(e=0),this.id=a,this.parent=b,this.timeline=c,this.key=d,this.z=e}return a}();a.Ref=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(){this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.pivotX=0,this.pivotY=0,this.alpha=1,this.angle=0}return a}();a.SpatialInfo=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function a(a,b,c,d){this._id=a,this._name=b,this._anchorX=c,this._anchorY=d}return a.prototype.getId=function(){return this._id},a.prototype.getName=function(){return this._name},a.prototype.getAnchorX=function(){return this._anchorX},a.prototype.getAnchorY=function(){return this._anchorY},a}();a.SpriterFile=b}(Spriter||(Spriter={}));var Spriter;!function(a){var b=function(){function b(b,c,d,e){void 0===d&&(d=a.eObjectType.SPRITE),void 0===e&&(e=-1),this._keys=[],this._id=b,this._name=c,this._type=d,this._objectRef=e}return b.prototype.getKeys=function(){return this._keys},b.prototype.addKey=function(a){this._keys.push(a)},b.prototype.getId=function(){return this._id},b.prototype.getName=function(){return this._name},b.prototype.getType=function(){return this._type},b.prototype.getObjectRef=function(){return this._objectRef},b}();a.Timeline=b}(Spriter||(Spriter={}));